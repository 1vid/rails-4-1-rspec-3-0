## Предисловие
Предисловие меня очень впечатлило, я почувствовал причастность к
сообществу умных и интересных людей. Аарон благодарит программистов
со всего мира которые подняли его уровень понимания RoR и дает ссылки на хорошие источники где есть что почерпнуть.

## Ссылки

- Если что то пошло не так с заданием првым делом смотрим [GitHub issues¹ for this release](https://github.com/everydayrails/rails-4-1-rspec-3-0/issues)

- Отличный источник знаний по рельсам в целом [Railscasts by Ryan Bates](http://railscasts.com/)

- Про [ООП](https://github.com/aristofun/webdevdao/blob/master/interview/programming_oop.md)

# 01. Вступление (Introduction)

_Важная мысль:_ **Ruby on Rails идут рука об руку с Тестированием**

Судя по [статистике](https://www.ruby-toolbox.com/categories/testing_frameworks) на 17.06.2022. В основном используют три фрейм ворка для тестирования:

01. [rspec](https://www.ruby-toolbox.com/projects/rspec)
02. [minitest](https://www.ruby-toolbox.com/projects/minitest)
03. [test-unit](https://www.ruby-toolbox.com/projects/test-unit)

Хорошие *RoR* программисты пишут тесты для свого Ruby кода - это Аксиома, иначе будут спагетти.
> [spagetty code](https://en.wikipedia.org/wiki/Spaghetti_code) - нечитаемый, плохо поддерживаемый, не структурированный код

Автор пишет что особо не заморачивался с тестами пока рельсы не хайпанули и он стал на них писать код. И что [ООП](https://github.com/aristofun/webdevdao/blob/master/interview/programming_oop.md) в рельсах зашкаливает. На сколько я знаю в Ruby все [объект](https://medium.com/@pk60905/everything-is-object-in-ruby-559475ce71dd). Ранние книги и туториалы по рельсам были сфокусированы на скорости разработки.
Но когда работаешь с большим тру приложением без тестов никуда, 
физически невозможно в голове держать интерпритатор всей аппликухи и
держать в голове все зависимости. А тесты позваляют отслеживать не 
сломалось ли что при новых изменениях. И качественно проверить
корректно ли работает очередная фича. Как по мне это еще и позволяет 
понять работу кода. И для этого нужна качественная, последовательная,
надежная стратегия написания тестов!

## Почему RSpec
- Читаемый синтаксис, поддерживаемый, лучший для Rails приложений.
- MiniTest хорош для написания отдельных либ.

## Для кого эта книга
Отличная книга для начинающих программистов, знакомых с основами
разработки на рельсах. 
Если вы _совсем_ нуб автор рекомендует:

>[Michael Hartl’s Rails Tutorial](https://www.railstutorial.org/), 

>[Daniel Kehoe’s Learn Ruby on Rails](https://learn-rails.com/), or [Sam Ruby’s Agile Web Development with Rails 4](https://pragprog.com/titles/rails7/agile-web-development-with-rails-7/)

Я вроде не совсем нубас, закончил курсы но время от времени смотрю 
гайды по разным темам по мере прохождения. Несколько смущает то что 
все книги на которые ссылается автор в этом абзаце устарели и по 
ссылкам выходят книги по 7 рельсам. Но я доверяю сенсею. Ссылки на 
книги оставлю здесь что бы не искать, хотелось бы ознакомится.

Конкретно что надо знать для освоения книги:
- [x] [Model-View-Controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) application architecture, as used in Rails
- [x] [Bundler](https://bundler.io/v2.3/#getting-started) for gem dependency management
- [x] How to run [Rake tasks](https://www.rubyguides.com/2019/02/ruby-rake/)
- [x] Basic command line [tools](https://www.youtube.com/watch?v=tQLpAefAKuA)
- [x] Enough Git to [switch between](https://git-scm.com/docs/git-branch) branches of a repository

Перечисленный чек лист я знаю как и любой программист, часть помню 
наизусть, часть можно нагуглить, достаточно что бы сделать простую приложеньку типа клона [ask.fm](https://github.com/Kucherjashka/askme) или [meeting-приложения](https://github.com/Kucherjashka/bbq). MVC архитектуру зна на уровне из 
коробки. Про смарт обьекты и всякие хитрые штучки вскользь только 
слышал, надеюсь в дальнейшем эти темы всплывут в книге.

## Философия тестинга Аарона Самнера
Есть какой то холивар между BDD и TDD. Надо будет к этому вернутся

Основные тезисы Самнера о том какими должны быть тесты:
- Tests should be reliable. (Хорошо читаемы)
- Tests should be easy to write. (Легкими в написании)
- Tests should be easy to understand. (Простыми для понимания)

Есть компромиссы:
- По началу не будем концентрироватся на скорости, поговорим об этом позже
- Так же не будем заострять внимание на [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself) стиле, хотя в тестах лишний код, это плохо, так же об этом поговорим позже. Пока, для наглядности, код может показатся немного избыточным, но для практики и понимания это норм.

#### Aaron Sumner:
> Тесты должны быть надежными, понятными(даже если это идет в минус максимально-возможной оптимизации). Такой подход спас меня от написания огромного количества кода в приложении. Прокликивая в браузере страниц - называя это "тестированием"... И он же привел меня к осознанию приемуществ написания полностью автоматизированых тестов, использованию концепции TDD, выявлению багов и симуляции критических ситуаций.<br>Вот такого подхота мы будем держаться в этой книге

## Загрузка учебного приложения
Оригинальный репозиторий находится [здесь](https://github.com/everydayrails/rails-4-1-rspec-3-0)

Примеры кода по каждой главе находятся в отдельной ветке.<br>
Я например сделал следующее<br><br>
Локально склонил себе оригинал
```
git clone git@github.com:everydayrails/rails-4-1-rspec-3-0.git
```

И настроил что бы пушился в мой реп 
```
git remote set-url --push origin git@github.com:1vid/rails-4-1-rspec-3-0.git
```

Сделал я это что бы вести путевые заметки по книге, дополнительно документировать то что понял, и фиксировать пересекающиеся темы, не входящие и не раскрытые в книге, напрямую влияющие на понимание написаного.
